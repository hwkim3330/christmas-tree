# ğŸ„ Shared Christmas Tree

> ì¹œêµ¬, ê°€ì¡±ê³¼ í•¨ê»˜ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ë¥¼ ê¾¸ë©°ë³´ì„¸ìš”!

ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë˜ëŠ” ê³µìœ  í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ ì›¹ì•±ì…ë‹ˆë‹¤. íŠ¸ë¦¬ë¥¼ í´ë¦­í•˜ê³  ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ì˜¤ë„ˆë¨¼íŠ¸(ì¥ì‹)ê°€ ì¶”ê°€ë©ë‹ˆë‹¤.

## ğŸŒ Live Demo

**[https://hwkim3330.github.io/christmas-tree/](https://hwkim3330.github.io/christmas-tree/)**

### ë²„ì „ ì„ íƒ

| Version | URL | Description | Storage |
|---------|-----|-------------|---------|
| **Standard** | [index.html](https://hwkim3330.github.io/christmas-tree/) | í’€ ê¸°ëŠ¥ ë²„ì „ (ëˆˆ, ë³„, ì§‘, ì¡°ëª…) | Firebase |
| **Lite** | [lite.html](https://hwkim3330.github.io/christmas-tree/lite.html) | ê²½ëŸ‰ ë²„ì „ (ë¹ ë¥¸ ë¡œë”©) | Firebase |
| **Local** | [local.html](https://hwkim3330.github.io/christmas-tree/local.html) | ì˜¤í”„ë¼ì¸ ê°œì¸ìš© | LocalStorage |

## ğŸ“¦ 3ê°€ì§€ ë²„ì „

### 1ï¸âƒ£ Standard (`index.html`)
í’€ ê¸°ëŠ¥ ë²„ì „ìœ¼ë¡œ, ëª¨ë“  ì‹œê° íš¨ê³¼ì™€ Firebase ì‹¤ì‹œê°„ ë™ê¸°í™”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
- ëª¨ë“  ë°©ë¬¸ìê°€ ê°™ì€ íŠ¸ë¦¬ë¥¼ í•¨ê»˜ ê¾¸ë°ˆ
- ëˆˆ, ë³„, ë‹¬, ì§‘ ë“± í’ë¶€í•œ ë°°ê²½
- ì‚¬ìš´ë“œ íš¨ê³¼ ë° ë°°ê²½ ìŒì•… ì§€ì›
- ~45KB, ë¡œë”© ~1ì´ˆ

### 2ï¸âƒ£ Lite (`lite.html`)
ê²½ëŸ‰ ë²„ì „ìœ¼ë¡œ, ì €ì‚¬ì–‘ ê¸°ê¸°ë‚˜ ë¹ ë¥¸ ë¡œë”©ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- Firebase ì‹¤ì‹œê°„ ë™ê¸°í™” (ê³µìœ  ê¸°ëŠ¥)
- ì‹¬í”Œí•œ ë””ìì¸, ì• ë‹ˆë©”ì´ì…˜ ìµœì†Œí™”
- ~8KB, ë¡œë”© ~0.3ì´ˆ

### 3ï¸âƒ£ Local (`local.html`)
**ì˜¤í”„ë¼ì¸ ê°œì¸ìš©** ë²„ì „ìœ¼ë¡œ, ì¸í„°ë„· ì—°ê²° ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- LocalStorageì— ì €ì¥ (ë¸Œë¼ìš°ì €ë³„ ê°œë³„ ì €ì¥)
- ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸° (JSON)
- ì¸í„°ë„· ë¶ˆí•„ìš”, ì™„ì „ ì˜¤í”„ë¼ì¸
- ~20KB

## âœ¨ Features

### ğŸ¨ Visual Effects (Standard)
- ğŸŒ¨ï¸ **Canvas ëˆˆ ì• ë‹ˆë©”ì´ì…˜** - ë¶€ë“œëŸ¬ìš´ ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼
- â­ **ë°˜ì§ì´ëŠ” ë³„** - ë°¤í•˜ëŠ˜ ë³„ë“¤
- ğŸŒ™ **ë¹›ë‚˜ëŠ” ë‹¬** - ë”°ëœ»í•œ ë‹¬ë¹›
- ğŸ  **ê²¨ìš¸ í’ê²½** - ëˆˆ ë®ì¸ ì§‘ê³¼ êµ´ëš ì—°ê¸°
- ğŸ’¡ **íŠ¸ë¦¬ ì¡°ëª…** - ë‹¤ì±„ë¡œìš´ ê¹œë¹¡ì´ëŠ” ì¡°ëª…
- âœ¨ **ìŠ¤íŒŒí´ íš¨ê³¼** - ì˜¤ë„ˆë¨¼íŠ¸ ì¶”ê°€/ì´ë™ ì‹œ ë°˜ì§ì„

### ğŸ± Ornaments
- ğŸ”´ **ë©”íƒˆë¦­ ê·¸ë¼ë””ì–¸íŠ¸** - ì‚¬ì‹¤ì ì¸ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë³¼
- ğŸ·ï¸ **ì´ë¦„ í‘œì‹œ** - í˜¸ë²„ ì‹œ ì „ì²´ ì´ë¦„ íˆ´íŒ
- âœ‹ **ë“œë˜ê·¸ ì•¤ ë“œë¡­** - ììœ ë¡œìš´ ìœ„ì¹˜ ì´ë™
- ğŸ¨ **ìë™ ìƒ‰ìƒ** - ì´ë¦„ ê¸°ë°˜ ê³ ìœ  ìƒ‰ìƒ

### ğŸ”„ Sync Options
- â˜ï¸ **Firebase** (Standard/Lite) - ì‹¤ì‹œê°„ ê³µìœ 
- ğŸ’¾ **LocalStorage** (Local) - ì˜¤í”„ë¼ì¸ ì €ì¥
- ğŸ“¤ **Export/Import** (Local) - JSON ë°±ì—…/ë³µì›

### ğŸ”Š Audio (Standard only)
- ğŸ”” **ë²¨ ì‚¬ìš´ë“œ** - Web Audio API
- ğŸµ **ë°°ê²½ ìŒì•…** - song.mp3 ì§€ì›
- ğŸ”‡ **ìŒì†Œê±° í† ê¸€**

### ğŸ“± Mobile Support
- ğŸ“² **í„°ì¹˜ ë“œë˜ê·¸** ì§€ì›
- ğŸ¯ **ë°˜ì‘í˜• ë””ìì¸**
- ğŸ”’ **Safe Area** (iPhone notch)

## ğŸš€ Quick Start

### GitHub Pages ë°°í¬

1. ì´ ì €ì¥ì†Œë¥¼ Fork ë˜ëŠ” Clone
2. GitHub Settings â†’ Pages â†’ Source: `main` branch
3. ëª‡ ë¶„ í›„ `https://[username].github.io/christmas-tree/` ì—ì„œ ì ‘ì†

### ë¡œì»¬ ì‹¤í–‰

```bash
git clone https://github.com/hwkim3330/christmas-tree.git
cd christmas-tree

# ë¡œì»¬ ì„œë²„ (Python 3)
python3 -m http.server 8000

# ë¸Œë¼ìš°ì €
open http://localhost:8000
```

> ğŸ’¡ `local.html`ì€ ì„œë²„ ì—†ì´ íŒŒì¼ì„ ì§ì ‘ ì—´ì–´ë„ ë™ì‘í•©ë‹ˆë‹¤!

## ğŸ”§ Configuration

### Firebase ì„¤ì • (Standard/Lite)

`index.html` ë˜ëŠ” `lite.html`ì˜ ì„¤ì • ìˆ˜ì •:

```javascript
const CONFIG = {
    BASE_DB: "https://your-project.firebaseio.com",  // Firebase URL
    POLL_INTERVAL: 2000,      // í´ë§ ê°„ê²© (ms)
    FETCH_TIMEOUT: 10000,     // íƒ€ì„ì•„ì›ƒ (ms)
    MAX_RETRIES: 3,           // ì¬ì‹œë„ íšŸìˆ˜
    MAX_NAME_LENGTH: 12,      // ìµœëŒ€ ì´ë¦„ ê¸¸ì´
    RATE_LIMIT_MS: 1000,      // ì¿¨ë‹¤ìš´ (ms)
};
```

### Firebase Database ê·œì¹™

```json
{
  "rules": {
    "balls": {
      ".read": true,
      ".write": true,
      "$ball_id": {
        ".validate": "newData.hasChildren(['name', 'x', 'y'])"
      }
    }
  }
}
```

### LocalStorage ì„¤ì • (Local)

`local.html`ì—ì„œ ì €ì¥ í‚¤ ë³€ê²½:

```javascript
const STORAGE_KEY = 'my_christmas_tree_v1';  // ë³€ê²½ ê°€ëŠ¥
```

## ğŸ“ File Structure

```
christmas-tree/
â”œâ”€â”€ index.html      # Standard ë²„ì „ (Firebase, í’€ ê¸°ëŠ¥)
â”œâ”€â”€ lite.html       # Lite ë²„ì „ (Firebase, ê²½ëŸ‰)
â”œâ”€â”€ local.html      # Local ë²„ì „ (LocalStorage, ì˜¤í”„ë¼ì¸)
â”œâ”€â”€ song.mp3        # ë°°ê²½ ìŒì•… (ì„ íƒì‚¬í•­)
â””â”€â”€ README.md
```

## ğŸ¯ Version Comparison

| Feature | Standard | Lite | Local |
|---------|:--------:|:----:|:-----:|
| **Storage** | Firebase | Firebase | LocalStorage |
| **Sharing** | âœ… ì‹¤ì‹œê°„ ê³µìœ  | âœ… ì‹¤ì‹œê°„ ê³µìœ  | âŒ ê°œì¸ìš© |
| **Offline** | âŒ | âŒ | âœ… ì™„ì „ ì˜¤í”„ë¼ì¸ |
| SVG Tree | ë‹¤ì¸µ ê·¸ë¼ë””ì–¸íŠ¸ | ì‹¬í”Œ | ë‹¤ì¸µ ê·¸ë¼ë””ì–¸íŠ¸ |
| Snow | âœ… Canvas | âŒ | âœ… Canvas |
| Stars | âœ… | âŒ | âœ… |
| House & Moon | âœ… | âŒ | âœ… Moon only |
| Tree Lights | âœ… | âŒ | âœ… |
| Sparkle Effects | âœ… | âŒ | âŒ |
| Sound Effects | âœ… | âŒ | âŒ |
| Background Music | âœ… | âŒ | âŒ |
| Export/Import | âŒ | âŒ | âœ… JSON |
| Error Handling | ê°•í™” | ê¸°ë³¸ | ê¸°ë³¸ |
| **File Size** | ~45KB | ~8KB | ~20KB |
| **Load Time** | ~1s | ~0.3s | ~0.5s |

## ğŸ› ï¸ Tech Stack

- **Frontend**: Pure HTML/CSS/JavaScript (No framework)
- **Database**: Firebase Realtime Database / LocalStorage
- **Graphics**: SVG, Canvas API
- **Audio**: Web Audio API
- **Hosting**: GitHub Pages

## ğŸ“ Data Structure

### Firebase (Standard/Lite)

```json
{
  "balls": {
    "-unique_id": {
      "name": "ì‚¬ìš©ì ì´ë¦„",
      "x": 50.5,
      "y": 65.3,
      "color": "#e74c3c",
      "createdAt": 1701388800000
    }
  }
}
```

### LocalStorage (Local)

```json
[
  {
    "name": "ì‚¬ìš©ì ì´ë¦„",
    "x": 50.5,
    "y": 65.3,
    "color": "#e74c3c",
    "time": 1701388800000
  }
]
```

## ğŸ”’ Security Notes

- ì…ë ¥ ê°’ sanitization (`<>\"'&` ì œê±°)
- XSS ë°©ì§€ HTML escape
- Rate limiting (ìŠ¤íŒ¸ ë°©ì§€)
- ìœ„ì¹˜ ê°’ ê²€ì¦ (0-100 ë²”ìœ„)

## ğŸ› Known Issues

- Safari Web Audio API ìë™ ì¬ìƒ ì œí•œ
- êµ¬í˜• ë¸Œë¼ìš°ì € CSS backdrop-filter ë¯¸ì§€ì›
- LocalStorage ìš©ëŸ‰ ì œí•œ (~5MB)

## ğŸ“œ License

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬ ê°€ëŠ¥

## ğŸ¤ Contributing

1. Fork this repository
2. Create feature branch (`git checkout -b feature/amazing`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing`)
5. Open a Pull Request

---

**Merry Christmas! ğŸ„ğŸ…ğŸ**

Made with â¤ï¸ by [hwkim3330](https://github.com/hwkim3330)
